<head>
<link href="https://fonts.googleapis.com/css?family=Montserrat:300,400,700|Roboto:400,700" rel="stylesheet">
<link href='style.css' rel='stylesheet' type='text/css'>
<title>민주정우회 정치성향 테스트</title>
<link rel="icon" type="x-icon" href="DAPF.jpg">
<link rel="shortcut icon" type="x-icon" href="DAPF.jpg">
<meta charset="utf-8">
<script>
  version = "Test Edition #1" //Remember to update this before making changes to the test itself!
</script>
</head>
<script type="application/javascript"
        src="ideologies.js">
</script>

<body>
<h1>민주정우회 정치성향 테스트</h1>
<hr>

<h1>결과</h1>

<h2>자유주의 - 개입주의 축: <span class="weight-300" id="economic-label"></span></h2>
<div class="axis">
    <img id="img-equality" src="value_images/equality.svg" height="128pt"/>
    <div class="bar equality" id="bar-equality"><div class="text-wrapper" id="equality"></div></div>
    <div class="bar wealth" id="bar-wealth"><div class="text-wrapper" id="wealth"></div></div>
    <img id="img-wealth" src="value_images/wealth.svg" height="128pt"/>
</div>
<h2>진보주의 - 보수주의 축: <span class="weight-300" id="diplomatic-label"></span></h2>
<div class="axis">
    <img id="img-might" src="value_images/might.svg" height="128pt"/>
    <div class="bar might" id="bar-might"><div class="text-wrapper" id="might"></div></div>
    <div class="bar peace" id="bar-peace"><div class="text-wrapper" id="peace"></div></div>
    <img id="img-peace" src="value_images/peace.svg" height="128pt"/>
</div>
<!--<h2>Closest Match: <span class="weight-300" id="ideology-label"></span></h2>-->
<!--<p>Ideological matching is a work in progress, and is much less accurate than the values and axes.</p>-->
<p>You can send these results by copying and pasting the URL at the top of the page or using the image below. Think your matched ideology was wrong? Want to help us calibrate the test? Send the results along with your political ideology to us at eightvalues@gmail.com, or send us any comments, questions, or criticism. </p>
<hr/>
<canvas id="banner" width=800 height=650 style="font-family:Montserrat"></canvas>
<button class="button" onclick="location.href='index.html';" style="background-color: #2196f3;">Back</button> <br>
<!-- Website visit statistics - no personal information is collected! -->
<script type="text/javascript">
var sc_project=11325211;
var sc_invisible=1;
var sc_security="fd9f0659";
var scJsHost = (("https:" == document.location.protocol) ?
"https://secure." : "http://www.");
document.write("<sc"+"ript type='text/javascript' src='" +
scJsHost+
"statcounter.com/counter/counter.js'></"+"script>");
</script>
<noscript><div class="statcounter"><a title="web stats"
href="http://statcounter.com/" target="_blank"><img
class="statcounter"
src="//c.statcounter.com/11325211/0/fd9f0659/1/" alt="web
stats"></a></div></noscript>
<script>
    function getQueryVariable(variable)
    {
           var query = window.location.search.substring(1)
           var vars = query.split("&")
           for (var i=0;i<vars.length;i++) {
                   var pair = vars[i].split("=")
                   if(pair[0] == variable) {return pair[1]}
           }
           return(NaN);
    }

    function setBarValue(name, value) {
        innerel = document.getElementById(name)
        outerel = document.getElementById("bar-" + name)
        outerel.style.width = (value + "%")
        innerel.innerHTML = (value + "%")
        if (innerel.offsetWidth + 20 > outerel.offsetWidth) {
            innerel.style.visibility = "hidden"
        }
    }

    // econArray = ["Communist","Socialist","Social","Centrist","Market","Capitalist","Laissez-Faire"]
    // govtArray = ["Anarchist","Libertarian","Liberal","Moderate","Statist","Authoritarian","Totalitarian"]

    // function setLabel(val,ary) {
    //     if (val > 100) { return "" } else
    //     if (val > 90) { return ary[0] } else
    //     if (val > 75) { return ary[1] } else
    //     if (val > 60) { return ary[2] } else
    //     if (val >= 40) { return ary[3] } else
    //     if (val >= 25) { return ary[4] } else
    //     if (val >= 10) { return ary[5] } else
    //     if (val >= 0) { return ary[6] } else
    //     	{return ""}
    // }

    Liberal  = getQueryVariable("l")
    Progressive     = getQueryVariable("p")
    Interventional    = (100 - Liberal).toFixed(1)
    Conservative     = (100 - Progressive   ).toFixed(1)

    setBarValue("Liberal", Liberal)
    setBarValue("Progressive", Progressive)
    setBarValue("Interventional", Interventional)
    setBarValue("Conservative", Conservative)

    // document.getElementById("economic-label").innerHTML = setLabel(equality, econArray)
    // document.getElementById("state-label").innerHTML = setLabel(liberty, govtArray)

    // ideology = ""
    // ideodist = Infinity
    // for (var i = 0; i < ideologies.length; i++) {
    //     dist = 0
    //     dist += Math.pow(Math.abs(ideologies[i].stats.econ - equality), 2)
    //     dist += Math.pow(Math.abs(ideologies[i].stats.govt - liberty), 2)
    //     if (dist < ideodist) {
    //         ideology = ideologies[i].name
    //         ideodist = dist
    //     }
    // }
    // document.getElementById("ideology-label").innerHTML = ideology

    // function createImage(src, x, y, w, h) {
    //     img = new Image ()
    //     img.src = src
    //     img.onLoad = function() {
    //         ctx.drawImage(img, x, y, w, h)
    //     }
    // }

    window.onload = function() {
        var c = document.getElementById("banner")
        var ctx = c.getContext("2d")
        ctx.fillStyle = "#EEEEEE"
        ctx.fillRect(0,0,800,600)

        img = document.getElementById("img-equality")
        ctx.drawImage(img, 20, 170, 100, 100);
        img = document.getElementById("img-wealth")
        ctx.drawImage(img, 680, 170, 100, 100)
        img = document.getElementById("img-might")
        ctx.drawImage(img, 20, 290, 100, 100)
        img = document.getElementById("img-peace")
        ctx.drawImage(img, 680, 290, 100, 100)

        ctx.fillStyle="#222222"
        ctx.fillRect(120, 180, 560, 80)
        ctx.fillRect(120, 300, 560, 80)
        ctx.fillRect(120, 420, 560, 80)
        ctx.fillRect(120, 540, 560, 80)
        ctx.fillStyle="#f44336"
        ctx.fillRect(120, 184, 5.6*Liberal-2, 72)
        ctx.fillStyle="#00897b"
        ctx.fillRect(682-5.6*Interventional, 184, 5.6*Interventional-2, 72)
        ctx.fillStyle="#ff9800"
        ctx.fillRect(120, 304, 5.6*Conservative-2, 72)
        ctx.fillStyle="#03a9f4"
        ctx.fillRect(682-5.6*Progressive, 304, 5.6*Progressive-2, 72)
        ctx.fillStyle="#222222"
        ctx.font="700 80px Montserrat"
        ctx.textAlign="left"
        ctx.fillText("민정회 테스트", 20, 90)
        // ctx.font="50px Montserrat"
        // ctx.fillText(ideology, 20, 140)

        ctx.textAlign="left"
        if (Liberal  > 30) {ctx.fillText(Liberal + "%", 130, 237.5)}
        if (Conservative     > 30) {ctx.fillText(Conservative + "%", 130, 357.5)}
        ctx.textAlign="right"
        if (Interventional    > 30) {ctx.fillText(Interventional + "%", 670, 237.5)}
        if (Progressive     > 30) {ctx.fillText(Progressive + "%", 670, 357.5)}

        ctx.font="300 30px Montserrat"
        ctx.fillText("8values.github.io", 780, 60)
		ctx.fillText(version, 780, 90)
        ctx.textAlign="center"
        ctx.fillText("Economic Axis: " + document.getElementById("economic-label").innerHTML, 400, 175)
        ctx.fillText("Diplomatic Axis: " + document.getElementById("diplomatic-label").innerHTML, 400, 295)
    }
    </script>
</body>
